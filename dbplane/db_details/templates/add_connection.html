{% extends 'base.html' %}
{% load static %}

{% block content %}

<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
<div class="mongo-add-con">
   <div class="header-group">
   <button type="button" class="back-link-btn" onclick="location.href='{% url 'db_list' db_type %}'">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960" width="30" height="30">
        <path fill="currentColor" d="M480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm120-160L360-480l240-160v320Z"/>
    </svg>
</button>
           <h2>Add {{ db_type|title }} Connection</h2>
   </div>

    <form method="POST" class="mongoconnect">
        {% csrf_token %}

        <label>Display Name</label>
        <input type="text" name="display_name" placeholder="eg: My {{ db_type|title }}">

        {% if db_type == 'mongo' %}
            <label>Connection URI</label>
            <textarea name="connection" rows="3" placeholder="mongodb://localhost:27017"></textarea>

        {% elif db_type == 'postgresql' %}
            <label>Host</label>
            <input type="text" name="host" placeholder="127.0.0.1">
            <label>Port</label>
            <input type="number" name="port" placeholder="5432">
            <label>Database Name</label>
            <input type="text" name="dbname" placeholder="postgres">
            <label>Password</label>
            {% include "input_password_field.html" with id="user_pass" name="password" placeholder="" %}

        {% elif db_type == 'redis' %}
            <label>Host</label>
            <input type="text" name="host" placeholder="127.0.0.1">
            <label>Port</label>
            <input type="number" name="port" placeholder="6379">
            <label>Password</label>
        {% include "input_password_field.html" with id="user_pass" name="password" placeholder="" %}
        {% elif db_type == 'rabbitmq' %}
            <label>Host</label>
            <input type="text" name="host" placeholder="127.0.0.1">
            <label>Port</label>
            <input type="number" name="port" placeholder="15672">
            <label>Password</label>
        {% include "input_password_field.html" with id="user_pass" name="password" placeholder="" %}
        {% endif %}

        <div class="button-group">
            <button type="button" class="primary secondary-btn" onclick="location.href='{% url 'db_list' db_type%}'">Cancel</button>
            <button type="submit" class="primary">Save Connection</button>
        </div>
    </form>
</div>


{% endblock %}